<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES" xml:lang="es-ES"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Msc. Alexey Seisdedo Losa">
<meta name="keywords" content="Open-source, Lenguaje de programacion Julia, Enseñanza universitaria, Computación Científica">

<title>Julia en las Universidades</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="CarreraTelecomunicaciones2_files/libs/clipboard/clipboard.min.js"></script>
<script src="CarreraTelecomunicaciones2_files/libs/quarto-html/quarto.js"></script>
<script src="CarreraTelecomunicaciones2_files/libs/quarto-html/popper.min.js"></script>
<script src="CarreraTelecomunicaciones2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="CarreraTelecomunicaciones2_files/libs/quarto-html/anchor.min.js"></script>
<link href="CarreraTelecomunicaciones2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="CarreraTelecomunicaciones2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="CarreraTelecomunicaciones2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="CarreraTelecomunicaciones2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="CarreraTelecomunicaciones2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Julia en las Universidades</h1>
<p class="subtitle lead">Ingeniería en Telecomunicaciones y Electrónica</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>Msc. Alexey Seisdedo Losa </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">7 de agosto de 2024</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Resumen</div>
    Presentación de las principales características del lenguaje de programación Julia y las ventajas de su introducción como herramienta de procesamiento, análisis y desarrollo en la carrera de ingeniería en telecomunicaciones y electrónica.
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Palabras clave</div>
    <p>Open-source, Lenguaje de programacion Julia, Enseñanza universitaria, Computación Científica</p>
  </div>
</div>

</header>


<section id="la-ingeniería-en-telecomunicaciones" class="level2">
<h2 class="anchored" data-anchor-id="la-ingeniería-en-telecomunicaciones">La ingeniería en Telecomunicaciones</h2>
<p>La ingeniería en telecomunicaciones como especialidad técnica conlleva el estudio constante de un volumen considerable de asignaturas, cálculo matemático, física, química y otras en la etapa básica. Electrónica analógica y digital, teoría de circuitos y radio propagación son algunas de ellas en la etapa avanzada.</p>
<p>En todas, es inherente un sentido de abstracción profundo en el desarrollo del marco teórico que se lleva a las aulas por parte del profesorado y que muchas veces, incide negativamente en la puesta en práctica de aquellos conocimientos que previamente debían ser asimilados en los laboratorios y trabajos extracurriculares. La imbricación de la teoría con la utilización de las nuevas tecnologías debe ir más allá de la simple utilización del ordenador como herramienta de estudio en la lectura de materiales y la confección de reportes de investigaciones o trabajos realizados. Debe constituir el medio para incrementar la capacidad de análisis, la experimentación y la manera que ese marco teórico precedente, se manifiesta en la vida cotidiana y permita al futuro ingeniero afrontar, con una sólida base el reto del mercado laboral moderno sin que por ello pierda la capacidad y la habilidad de trabajo con elementos no digitales.</p>
</section>
<section id="por-qué-julia" class="level2">
<h2 class="anchored" data-anchor-id="por-qué-julia">Por qué Julia?</h2>
<p>Julia es un lenguaje de programación de alto nivel, diseñado específicamente para el cómputo científico y la estadística. Fué creado en el año 2009 por un grupo de investigadores (Jeff Bezanson, Stefan Karpinski, Viral Shah, y Alan Edelman<span class="citation" data-cites="Mira2020-uq">(<a href="#ref-Mira2020-uq" role="doc-biblioref">Mira 2020</a>)</span>) en la Universidad de California, Berkeley, y se lanzó oficialmente en el año 2012.</p>
<p>Julia combina la facilidad de uso de lenguajes como Python y R con el rendimiento de lenguajes de bajo nivel como C y Fortran. Utiliza una sintaxis clara y concisa, similar a la de MATLAB, y cuenta con una amplia variedad de paquetes y librerías especializadas para estadística, ciencias de datos y otros.</p>
<p>Julia tiene varias ventajas que lo hacen especialmente útil:</p>
<ul>
<li><p>Rendimiento: Julia se ejecuta muy rápidamente gracias a su compilación <em>just-in-time</em> (JIT) y a la capacidad de definir tipos de datos específicos para mejorar el rendimiento. Esto significa que se puede trabajar con grandes conjuntos de datos y cálculos complejos de manera eficiente.</p></li>
<li><p>Sintaxis clara y expresiva: Julia tiene una sintaxis intuitiva y fácil de aprender, que se asemeja a la de otros lenguajes populares como MATLAB o Python. Esto hace que sea fácil para los nuevos usuarios comenzar a trabajar con él.</p></li>
<li><p>Interoperabilidad: Julia es capaz de integrarse fácilmente con otros lenguajes como Python, R y C. Esto significa que los usuarios pueden aprovechar las bibliotecas y paquetes de otros lenguajes y combinarlos con Julia para obtener el mejor rendimiento posible.</p></li>
<li><p>Paquetes especializados: Julia cuenta con una amplia variedad de paquetes especializados para estadástica y ciencias de datos, como DataFrames.jl, Plots.jl, StatsModels.jl y muchas otras. Esto facilita mucho el trabajo con datos y cálculos estadísticos<span class="citation" data-cites="Santos2023-sy">(<a href="#ref-Santos2023-sy" role="doc-biblioref">Santos 2023</a>)</span>.</p></li>
</ul>
<p>Todas estas características lo hacen muy interesante para su inclusión como herramienta en la especialidad de telecomunicaciones.</p>
<p>Julia es, por lo anterior, junto a R, Python y C/C++ la opción que muchos profesionales de este ámbito deberían tener dentro de su espectro de conocimientos, aunque existan opiniones controvertidas <span class="citation" data-cites="Fischer2020-ko">(<a href="#ref-Fischer2020-ko" role="doc-biblioref">Fischer 2020</a>)</span>,<span class="citation" data-cites="Moura2021-qz">(<a href="#ref-Moura2021-qz" role="doc-biblioref">Moura 2021</a>)</span>, lo más importante es tener siempre a mano la herramienta más útil para el <em>caso de uso</em> específico.</p>
<p>A los estudiantes Julia brinda un nuevo enfoque tanto en el desarrollo de software como para la ciencia de datos y la interpretación de los mismos. Todo lo que se hace en Python o en R, puede hacerse en Julia con la ventaja de poder escribir código legible, rápido y potente. Está pensado para ser rápido, generar código optimizado para la máquina de forma automática y evitar tener que emplear cosas como Python + Fortran (Problema de los dos lenguajes)<span class="citation" data-cites="Maldonado2023-la">(<a href="#ref-Maldonado2023-la" role="doc-biblioref">Maldonado 2023</a>)</span>,<span class="citation" data-cites="na-oz">(<a href="#ref-na-oz" role="doc-biblioref">s.&nbsp;f.a</a>)</span>.</p>
<p>Julia con una gran comunidad y desarrollo sostenido se ha ido posicionando como un lenguaje clave en el presente y futuro <span class="citation" data-cites="na-vu">(<a href="#ref-na-vu" role="doc-biblioref">s.&nbsp;f.b</a>)</span>.</p>
</section>
<section id="manos-a-la-obra-con-julia" class="level2">
<h2 class="anchored" data-anchor-id="manos-a-la-obra-con-julia">Manos a la obra con Julia</h2>
<p>El universo de paquetes de Julia aumenta día a día con el apoyo de la comunidad y otros interesados al respecto. Ejemplo del desarrollo de elementos que se vinculan directamente a la especialidad que se trata, está en ACME.jl.</p>
<p>ACME.jl es un paquete para la simulación de circuitos eléctricos, enfocado en los de efectos de audio. Este permite describir de forma programática, muy clara, un circuito en término de sus elementos y las conexiones entre ellos, derivándose automáticamente en un modelo de dicho circuito. Este modelo puede ser corrido computacionalmente con diferentes datos de entrada <span class="citation" data-cites="na-ob">(<a href="#ref-na-ob" role="doc-biblioref"><span>«ACME.Jl»</span>, s.&nbsp;f.</a>)</span>,<span class="citation" data-cites="na-mf">(<a href="#ref-na-mf" role="doc-biblioref"><span>«ACME.Jl - Analog Circuit Modeling and Emulation for Julia»</span>, s.&nbsp;f.</a>)</span>.</p>
<p>ACME está basado en el método descrito en M. Holters, U. Zölzer, <em>“A Generalized Method for the Derivation of Non-Linear State-Space Models from Circuit Schematics”</em><span class="citation" data-cites="Holters_undated-ep">(<a href="#ref-Holters_undated-ep" role="doc-biblioref">Holters y Zolzer, s.&nbsp;f.</a>)</span>.</p>
<p>Ejemplo:</p>
<pre><code>using ACME
circ = @circuit begin
    j_in = voltagesource()
    r1 = resistor(1e3)
    c1 = capacitor(47e-9)
    d1 = diode(is=1e-15)
    d2 = diode(is=1.8e-15)
    j_out = voltageprobe()
    j_in[+] ⟷ r1[1]
    j_in[-] ⟷ gnd
    r1[2] ⟷ c1[1] ⟷ d1[+] ⟷ d2[-] ⟷ j_out[+]
    gnd ⟷ c1[2] ⟷ d1[-] ⟷ d2[+] ⟷ j_out[-]
end
model = DiscreteModel(circ, 1/44100)
y = run!(model, [sin(2π*1000/44100*n) for c in 1:1, n in 0:44099])</code></pre>
<p>Otro ejemplo con aplicación específica es PETLION.jl <span class="citation" data-cites="Berliner2021-zu">(<a href="#ref-Berliner2021-zu" role="doc-biblioref">M. D. Berliner et&nbsp;al. 2021</a>)</span>. Este permite realizar simulaciones de alto rendimiento del modelo teórico de electrodos porosos (PET) <em>pseudo-2D</em> en Julia <span class="citation" data-cites="na-fe">(<a href="#ref-na-fe" role="doc-biblioref"><span>«Readme · <span>PETLION.Jl</span>»</span>, s.&nbsp;f.</a>)</span>.</p>
<p>Existen muchos casos de uso y paquetes útiles, pero el análisis de estos se sale del alcance de este artículo, no obstante, pueden ser consultados varios de los ejemplos en línea. <span class="citation" data-cites="Berliner_undated-vk">(<a href="#ref-Berliner_undated-vk" role="doc-biblioref">M. Berliner, s.&nbsp;f.</a>)</span></p>
<p>En la red abundan los ejemplos de la utilización cada vez más grande de Julia en múltiples ramas del del conocimiento humano y a ello no escapan las especialidades técnicas como las telecomunicaciones.</p>
<p>Difundir la utilización del mismo por parte de los profesores dentro de las propias materias a tratar, en la resolución de problemas y simulaciones de eventos, fenómenos etc, por parte de los estudiantes durante el curso de sus estudios, dotarían a estos de una potente herramienta en las investigaciones, aspecto importante en la vinculación de las universidades a los elementos productivos, y en el desafiante mundo laboral al que se enfrentaran los futuros ingenieros.</p>
<section id="y-cómo-lo-hacemos.." class="level3">
<h3 class="anchored" data-anchor-id="y-cómo-lo-hacemos..">Y cómo lo hacemos..?</h3>
<p><a href="https://julialang.org/downloads/">Julia</a> se obtiene directamente desde su sitio y siguiendo las indicaciones dadas por sus desarrolladores, es posible tenerlo rápidamente funcional en el ordenador. Existen varios entornos de desarrollo utilizados por la comunidad, es desición personal adoptar aquel que mejor se ajuste a las necesidades propias. No obstante, una sabia desición sería:</p>
<ul>
<li><p>el REPL (<em>Read-Eval-Print Loop</em>), de sus siglas en Inglés. Una interfaz de línea de comando llena de facilidades para interactuar con el lenguaje y gestionar la paquetería o módulos necesarios.</p></li>
<li><p>y <a href="https://plutojl.org/">Pluto.jl</a>, todo un ambiente de programación reactivo para Julia que permite la edición de código al estilo de <em>Notebooks</em>, con características especiales como la inmutabilidad de los espacios de trabajo y la integración de un gestor de paquetería. Además de la perfecta reproducibilidad de sus <em>Notebooks</em> por defecto.</p></li>
</ul>
<p>La documentación existente tanto para principantes como para proyectos más avanzados no es tan fácil de encontrar en español, en inglés existen varios libros y <a href="https://www.youtube.com/@doggodotjl">videos</a> al respecto, además siempre está el sitio oficial del proyecto.</p>
</section>
</section>
<section id="conclusiones" class="level2">
<h2 class="anchored" data-anchor-id="conclusiones">Conclusiones</h2>
<p>En un mundo donde las competencias definen el futuro de los profesionales, es primordial el papel de los facilitadores del aprendizaje, llevando a los estudiantes las más variadas y actualizadas herramientas que le permitan crear habilidades profesionales de amplio espectro, en algunos casos definitorias.</p>
<p>Es tarea de estos facilitadores imbricar la utilización de estas herramientas en los programas clásicos de enseñanza, promoviendo las buenas prácticas en el desarrollo de nuevas ideas y a la postre de mejores profesionales.</p>
<p>El universo de Julia, en constante expansión, es un excelente ejemplo de como se puede vincular no solo la computación científica desde el punto de vista del desarrollador de software sino también como científico de datos, analista, desarrollador de inteligencia artificial, aprendizaje automático, controladores de sistemas automatizados, interfaces, documentadores de procesos y otros.</p>
<p>Aprender Julia, sin dudas, podría marcar la diferencia en un tiempo no muy lejano.</p>
</section>
<section id="referencias" class="level2 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referencias</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-na-oz" class="csl-entry" role="listitem">
s.&nbsp;f.a. <a href="https://theirstack.com/es/technology/julia" class="uri">https://theirstack.com/es/technology/julia</a>.
</div>
<div id="ref-na-vu" class="csl-entry" role="listitem">
———. s.&nbsp;f.b. <a href="https://www.intel.com/content/dam/www/public/us/en/documents/presentation/julia-in-parallel-and-high-performance-computing.pdf" class="uri">https://www.intel.com/content/dam/www/public/us/en/documents/presentation/julia-in-parallel-and-high-performance-computing.pdf</a>.
</div>
<div id="ref-na-ob" class="csl-entry" role="listitem">
<span>«ACME.Jl»</span>. s.&nbsp;f. <a href="https://hsu-ant.github.io/ACME.jl/dev/" class="uri">https://hsu-ant.github.io/ACME.jl/dev/</a>.
</div>
<div id="ref-na-mf" class="csl-entry" role="listitem">
<span>«ACME.Jl - Analog Circuit Modeling and Emulation for Julia»</span>. s.&nbsp;f.
</div>
<div id="ref-Berliner_undated-vk" class="csl-entry" role="listitem">
Berliner, Marc. s.&nbsp;f. <span>«examples at master · <span>MarcBerliner/PETLION.jl</span>»</span>.
</div>
<div id="ref-Berliner2021-zu" class="csl-entry" role="listitem">
Berliner, Marc D, Daniel A Cogswell, Martin Z Bazant, y Richard D Braatz. 2021. <span>«<span>Methods—<span>PETLION</span></span>: <span>Open-Source</span> Software for <span>Millisecond-Scale</span> Porous Electrode <span>Theory-Based</span> <span>Lithium-Ion</span> Battery Simulations»</span>. <em>Journal of The Electrochemical Society</em> 168 (9): 090504.
</div>
<div id="ref-Fischer2020-ko" class="csl-entry" role="listitem">
Fischer, Daniel. 2020. <span>«Comparativa entre Julia, Python y <span>R</span>»</span>. <a href="https://www.geekosas.com/index.php/2020/04/07/comparativa-entre-julia-python-y-r/" class="uri">https://www.geekosas.com/index.php/2020/04/07/comparativa-entre-julia-python-y-r/</a>.
</div>
<div id="ref-Holters_undated-ep" class="csl-entry" role="listitem">
Holters, Martin, y Udo Zolzer. s.&nbsp;f. <span>«A generalized method for the derivation of non-linear state-space models from circuit schematics»</span>. <a href="https://www.eurasip.org/Proceedings/Eusipco/Eusipco2015/papers/1570103545.pdf" class="uri">https://www.eurasip.org/Proceedings/Eusipco/Eusipco2015/papers/1570103545.pdf</a>.
</div>
<div id="ref-Maldonado2023-la" class="csl-entry" role="listitem">
Maldonado, Josué Acevedo. 2023. <span>«Julia para la ciencia de datos. - Josu<span>é</span> Acevedo Maldonado»</span>. <a href="https://josueacevedo.medium.com/julia-para-la-ciencia-de-datos-be04a25b592c" class="uri">https://josueacevedo.medium.com/julia-para-la-ciencia-de-datos-be04a25b592c</a>.
</div>
<div id="ref-Mira2020-uq" class="csl-entry" role="listitem">
Mira, Adrián Rodrı́guez. 2020. <span>«Lenguaje de programacion Julia: ideal para Machine Learning»</span>. <a href="https://www.tokioschool.com/noticias/lenguaje-programacion-julia/" class="uri">https://www.tokioschool.com/noticias/lenguaje-programacion-julia/</a>.
</div>
<div id="ref-Moura2021-qz" class="csl-entry" role="listitem">
Moura, Daniel. 2021. <span>«<span>R</span> vs Python vs Julia: Efficient code»</span>. <a href="https://towardsdatascience.com/r-vs-python-vs-julia-90456a2bcbab" class="uri">https://towardsdatascience.com/r-vs-python-vs-julia-90456a2bcbab</a>.
</div>
<div id="ref-na-fe" class="csl-entry" role="listitem">
<span>«Readme · <span>PETLION.Jl</span>»</span>. s.&nbsp;f. <a href="https://docs.juliahub.com/General/PETLION/stable/" class="uri">https://docs.juliahub.com/General/PETLION/stable/</a>.
</div>
<div id="ref-Santos2023-sy" class="csl-entry" role="listitem">
Santos, Franklin. 2023. <span>«<span>JULIA</span>: Lenguaje de programaci<span>ó</span>n del futuro»</span>. <a href="https://www.franklinsantosm.com/posts/julia/" class="uri">https://www.franklinsantosm.com/posts/julia/</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>